Default = Debug

General {
	CompilerFlags		= -Wall -Wextra -Wsign-conversion -Wsuggest-attribute=noreturn -pipe -mfpmath=both -march=nocona -masm=intel -I../..

	CFlags				= -std=c11
	CPPFlags			= -std=c++14 -Wnoexcept

	IgnoredFiles		= .Built* *.h *.hpp *.mcfproj

	PreCompiledHeaders {
		CPP {
			SourceFile	= StdMCF.hpp
			CommandLine	= g++ -x c++-header $CompilerFlags$ $CPPFlags$ %IN% -o %OUT%
		}
	}

	Compilers {
		c {
			CommandLine	= gcc -x c -c $CompilerFlags$ $CFlags$ %IN% -o %OUT%
			Dependency	= gcc -x c -c $CompilerFlags$ $CFlags$ %IN% -MM
		}
		cpp cxx cc {
			CommandLine	= g++ -x c++ -c $CompilerFlags$ $CPPFlags$ %GCH.CPP% %IN% -o %OUT%
			Dependency	= g++ -x c++ -c $CompilerFlags$ $CPPFlags$ %IN% -MM
		}
	}

	Linkers {
		Partial			= ld -r %IN% -o %OUT%
		Full			= ar rcs %OUT% %IN%
	}

	DefaultOutput		= libmcf.a
}

Debug = General {
	CompilerFlags		=> -fno-builtin -g -D_GLIBCXX_DEBUG_PEDANTIC -O0
}

Release = General {
	CompilerFlags		=> -DNDEBUG -O3 -ffunction-sections -fdata-sections
}
